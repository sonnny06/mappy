<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Graph Algorithm Visualization</title>
  <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>

  <style>
    body { font-family: Arial, sans-serif; display: flex; height: 100vh; margin: 0; }
    #sidebar { width: 340px; background: #f4f4f4; padding: 20px; overflow-y: auto; border-right: 1px solid #ccc; }
    #network-container { flex-grow: 1; background: #fff; height: 100vh; border-left: 1px solid #eee; }
    .btn-group { margin-bottom: 18px; }
    button { display: block; width: 100%; margin: 6px 0; padding: 10px; cursor: pointer; }
    textarea { width: 100%; height: 170px; margin-top: 10px; }
    h3 { border-bottom: 1px solid #ddd; padding-bottom: 6px; margin-bottom: 10px; }
    input[type="text"] { width: 100%; margin: 5px 0; padding: 8px; box-sizing: border-box; }
    .hint { font-size: 13px; color: #555; line-height: 1.35; }
    .pill { display:inline-block; font-size: 12px; padding: 3px 8px; border-radius: 999px; background:#e5e7eb; margin-top:6px; }
  </style>
</head>
<body>
  <div id="sidebar">
    <h2>CÃ´ng cá»¥ Äá»“ thá»‹</h2>

    <div class="btn-group">
      <h3>0. Váº½ Ä‘á»“ thá»‹</h3>
      <button onclick="setMode('move')">ğŸ– Di chuyá»ƒn</button>
      <button onclick="setMode('add_node')">â• ThÃªm Ä‘á»‰nh</button>
      <button onclick="setMode('add_edge')">ğŸ”— ThÃªm cáº¡nh</button>
      <button onclick="setMode('edit_edge')">âœï¸ Sá»­a trá»ng sá»‘</button>
      <button onclick="lockGraph()">ğŸ”’ KhÃ³a Ä‘á»“ thá»‹</button>
      <button onclick="unlockGraph()">ğŸ”“ Má»Ÿ khÃ³a Ä‘á»“ thá»‹</button>

      <button onclick="setMode('delete')">ğŸ—‘ XÃ³a (node/cáº¡nh)</button>

      <label style="margin-top:10px; display:block;">Trá»ng sá»‘ máº·c Ä‘á»‹nh (weight)</label>
      <input type="text" id="defaultWeight" value="1" placeholder="VD: 1">

      <label style="margin-top:10px; display:block;">Capacity máº·c Ä‘á»‹nh (MaxFlow)</label>
      <input type="text" id="defaultCapacity" value="1" placeholder="VD: 10">

      <label style="margin-top:10px; display:block;">Tá»‘c Ä‘á»™ minh hoáº¡ (ms/bÆ°á»›c)</label>
      <input type="text" id="speedMs" value="450" placeholder="VD: 600">

      <div class="pill">Tip: chá»n cháº¿ Ä‘á»™ rá»“i click lÃªn canvas</div>
    </div>

    <div class="btn-group">
      <h3>1. Cháº¿ Ä‘á»™</h3>
      <label><input type="checkbox" id="isDirected"> Äá»“ thá»‹ cÃ³ hÆ°á»›ng</label>
      <button onclick="clearGraph()">XÃ³a tráº¯ng Ä‘á»“ thá»‹</button>
      <button onclick="exportGraph()">ğŸ’¾ Xuáº¥t JSON</button>
      <input type="file" id="importFile" accept=".json" onchange="importGraphFile(event)">
    </div>

    <div class="btn-group">
      <h3>2. Thuáº­t toÃ¡n</h3>
      <input type="text" id="sourceNode" placeholder="Äá»‰nh nguá»“n (VD: 1)">
      <input type="text" id="targetNode" placeholder="Äá»‰nh Ä‘Ã­ch (VD: 5)">

      <button onclick="runShortestPath()">TÃ¬m Ä‘Æ°á»ng ngáº¯n nháº¥t (Dijkstra)</button>
      <button onclick="runTraversal('bfs')">Duyá»‡t BFS</button>
      <button onclick="runTraversal('dfs')">Duyá»‡t DFS</button>
      <button onclick="checkBipartite()">Kiá»ƒm tra 2 phÃ­a</button>

      <button onclick="runMST('prim')">MST - Prim</button>
      <button onclick="runMST('kruskal')">MST - Kruskal</button>

      <button onclick="runMaxFlow()">Max Flow (Ford-Fulkerson)</button>
      <button onclick="runEuler('fleury')">Euler - Fleury</button>
      <button onclick="runEuler('hierholzer')">Euler - Hierholzer</button>
    </div>

    <div class="btn-group">
      <h3>3. Chuyá»ƒn Ä‘á»•i Biá»ƒu diá»…n</h3>
      <button onclick="convertRepresentation()">Xem 3 dáº¡ng biá»ƒu diá»…n</button>

      <label style="margin-top:10px; display:block;">Build tá»« JSON (matrix/adjlist/edgelist)</label>
      <select id="repMode" style="width:100%; padding:8px; box-sizing:border-box;">
        <option value="matrix">Adjacency Matrix</option>
        <option value="adjlist">Adjacency List</option>
        <option value="edgelist">Edge List</option>
      </select>
      <textarea id="repInput" placeholder="DÃ¡n JSON vÃ o Ä‘Ã¢y..."></textarea>
      <button onclick="buildFromRepresentation()">Build Ä‘á»“ thá»‹ tá»« JSON</button>

      <textarea id="outputArea" placeholder="Káº¿t quáº£ sáº½ hiá»‡n á»Ÿ Ä‘Ã¢y..."></textarea>
    </div>

    <div class="btn-group">
      <div class="hint">
        <b>CÃ¡ch váº½:</b><br>
        - <b>ThÃªm Ä‘á»‰nh</b>: click vÃ¹ng trá»‘ng Ä‘á»ƒ thÃªm.<br>
        - <b>ThÃªm cáº¡nh</b>: click node A â†’ click node B Ä‘á»ƒ táº¡o cáº¡nh (nháº­p weight/capacity).<br>
        - <b>Sá»­a trá»ng sá»‘</b>: click cáº¡nh Ä‘á»ƒ sá»­a weight/capacity.<br>
        - <b>XÃ³a</b>: click node/cáº¡nh Ä‘á»ƒ xoÃ¡.<br>
        <br>
        <b>MaxFlow</b>: dÃ¹ng <i>capacity</i> (Ã´ máº·c Ä‘á»‹nh capacity). Vá»›i Ä‘á»“ thá»‹ vÃ´ hÆ°á»›ng, nÃªn báº­t "cÃ³ hÆ°á»›ng".
      </div>
    </div>
  </div>

  <div id="network-container"></div>

  <script src="/static/script.js"></script>
</body>
</html>
